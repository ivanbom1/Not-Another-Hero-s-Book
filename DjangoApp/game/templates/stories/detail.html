{% extends 'base.html' %}

{% block title %}{{ story.title }} - NAHB{% endblock %}

{% block content %}
<div class="card">
    <h2>{{ story.title }}</h2>
    <p>{{ story.description }}</p>
    
    <div style="margin: 1.5rem 0; padding: 1rem; background: #f0f0f0; border-radius: 4px;">
        <p><strong>Status:</strong> {{ story.status }}</p>
        <p><strong>Total Plays:</strong> {{ total_plays }}</p>
    </div>
    
    {% if endings %}
        <h3>Ending Distribution:</h3>
        <ul>
            {% for ending in endings %}
                <li>
                    <strong>{{ ending.ending_label|default:"Unlabeled" }}</strong>: 
                    {{ ending.count }} time{{ ending.count|pluralize }}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No endings reached yet.</p>
    {% endif %}
    
    <div style="margin-top: 2rem;">
        <a href="{% url 'play_story' story.id %}" class="btn btn-success">Play Story</a>
        <a href="{% url 'edit_story' story.id %}" class="btn">Edit</a>
        <a href="{% url 'stories_list' %}" class="btn">Back</a>
    </div>
</div>
{% endblock %}